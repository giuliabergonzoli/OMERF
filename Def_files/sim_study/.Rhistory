knitr::opts_chunk$set(echo = TRUE)
knitr::opts_knit$set(root.dir = "D:/magistrale/tesi/Master_Thesis/Def_files/dati")
library(ordinal)
library(randomForest)
library(ordinalForest)
library(pdfCluster)
library(psych)
source('OMERF_new.R')
knitr::opts_chunk$set(echo = TRUE)
knitr::opts_knit$set(root.dir = "D:/magistrale/OMERF/Def_files/dati")
library(ordinal)
library(randomForest)
library(ordinalForest)
library(pdfCluster)
library(psych)
source('OMERF_new.R')
source('build_dataset_lin.R')
source('ord_class_index.R')
source('index.R')
set.seed(1999)
dati=build.dataset(1000,5,0.8)
y=factor(dati$y.train)
cov=dati$cov.train
gr=factor(dati$group.train)
cv2=NULL
for(lv in 1:10) {
dummy=NULL
for(d in 1:length(gr)) dummy=c(dummy,ifelse(gr[d]==lv,1,0))
cv2=cbind(cv2,dummy)
}
colnames(cv2)=c('d1','d2','d3','d4','d5','d6','d7','d8','d9','d10')
covd=cbind(cov,cv2)
omerf.mod=omerf(y, cov, gr)
mod1 <- Predictor$new(omerf.mod$forest.model, data = cov, y = omerf.mod$rf.target)
knitr::opts_chunk$set(echo = TRUE)
knitr::opts_knit$set(root.dir = "D:/magistrale/OMERF/Def_files/dati")
library("iml")
library("ggplot2")
mod1 <- Predictor$new(omerf.mod$forest.model, data = cov, y = omerf.mod$rf.target)
imp1 <- FeatureImp$new(mod1, loss = "mse")
warnings()
plot(imp)
plot(imp1)
mod01 <- Predictor$new(omerf.mod$forest.model, data = cov)
effs0 <- FeatureEffects$new(mod01)
effs0$plot()
plot(effs0)
install.packages(patchwork)
install.packages("patchwork")
effs0$plot()
plot(effs0)
knitr::opts_chunk$set(echo = TRUE)
knitr::opts_knit$set(root.dir = "D:/magistrale/OMERF/Def_files/dati")
library(ordinal)
library(randomForest)
library(ordinalForest)
library(pdfCluster)
library(psych)
source('OMERF_new.R')
source('build_dataset_lin.R')
source('ord_class_index.R')
source('index.R')
set.seed(1999)
dati=build.dataset(1000,5,0.8)
y=factor(dati$y.train)
cov=dati$cov.train
gr=factor(dati$group.train)
cv2=NULL
for(lv in 1:10) {
dummy=NULL
for(d in 1:length(gr)) dummy=c(dummy,ifelse(gr[d]==lv,1,0))
cv2=cbind(cv2,dummy)
}
colnames(cv2)=c('d1','d2','d3','d4','d5','d6','d7','d8','d9','d10')
covd=cbind(cov,cv2)
omerf.mod=omerf(y, cov, gr)
library("iml")
library("ggplot2")
#library("packa")
mod0 <- Predictor$new( omerf.mod$forest.model, data = cov, y =  omerf.mod$rf.target)
imp0 <- FeatureImp$new(mod0, loss = "mse")
plot(imp0)
mod01 <- Predictor$new(omerf.mod$forest.model, data = cov)
effs0 <- FeatureEffects$new(mod01)
plot(effs0) #effs0$plot()
